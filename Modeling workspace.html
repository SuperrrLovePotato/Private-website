<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>3Dæ¨¡å‹èµ„æºæœç´¢å¹³å°</title>
  <style>
    :root {
      --primary: #2563eb;
      --primary-light: #3b82f6;
      --primary-dark: #1d4ed8;
      --secondary: #8b5cf6;
      --accent: #06b6d4;
      --dark-bg: #0f172a;
      --dark-card: #1e293b;
      --dark-border: #334155;
      --dark-text: #f1f5f9;
      --dark-muted: #94a3b8;
      --light-bg: #f8fafc;
      --light-card: #ffffff;
      --light-border: #e2e8f0;
      --light-text: #0f172a;
      --light-muted: #64748b;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --radius: 12px;
      --shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      --shadow-dark: 0 20px 60px rgba(0, 0, 0, 0.4);
      --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
    }
    
    /* ç™½å¤©æ¨¡å¼ */
    body.light-mode {
      --bg: var(--light-bg);
      --card: var(--light-card);
      --border: var(--light-border);
      --text: var(--light-text);
      --muted: var(--light-muted);
      --shadow: var(--shadow);
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      color: var(--light-text);
    }
    
    /* é»‘å¤œæ¨¡å¼ */
    body.dark-mode {
      --bg: var(--dark-bg);
      --card: var(--dark-card);
      --border: var(--dark-border);
      --text: var(--dark-text);
      --muted: var(--dark-muted);
      --shadow: var(--shadow-dark);
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
      color: var(--dark-text);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      min-height: 100vh;
      transition: background-color 0.5s, color 0.5s;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* é¡¶éƒ¨å¯¼èˆªæ  - é«˜çº§æ„Ÿè®¾è®¡ */
    .top-nav {
      background: rgba(30, 41, 59, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
    }
    
    body.light-mode .top-nav {
      background: rgba(255, 255, 255, 0.95);
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .nav-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 30px;
    }
    
    .nav-left {
      display: flex;
      align-items: center;
      gap: 30px;
    }
    
    .back-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 24px;
      background: var(--gradient-primary);
      border: none;
      border-radius: var(--radius);
      color: white;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    }
    
    .back-btn:hover {
      transform: translateX(-5px);
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
    }
    
    .nav-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    /* é«˜çº§ä¸»é¢˜åˆ‡æ¢ */
    .theme-toggle {
      display: flex;
      align-items: center;
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 6px;
      backdrop-filter: blur(10px);
    }
    
    body.light-mode .theme-toggle {
      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .theme-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      background: transparent;
      border: none;
      border-radius: 16px;
      color: var(--text);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .theme-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity 0.3s;
      z-index: -1;
    }
    
    .theme-btn.active {
      color: white;
    }
    
    .theme-btn.active::before {
      opacity: 1;
    }
    
    /* å¤´éƒ¨åŒºåŸŸ */
    .header {
      padding: 60px 0 40px;
      position: relative;
      overflow: hidden;
    }
    
    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--primary), transparent);
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 40px;
      position: relative;
      z-index: 1;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    .logo-icon {
      width: 60px;
      height: 60px;
      background: var(--gradient-primary);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 28px;
      color: white;
      box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
      transform: rotate(-5deg);
      transition: var(--transition);
    }
    
    .logo-icon:hover {
      transform: rotate(0deg) scale(1.05);
    }
    
    .logo-text {
      font-size: 32px;
      font-weight: 800;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -0.5px;
    }
    
    /* ä¸»æœç´¢åŒºåŸŸ - é«˜çº§æ„Ÿè®¾è®¡ */
    .main-search {
      flex: 1;
      max-width: 900px;
    }
    
    .search-box {
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 20px 60px 20px 24px;
      background: var(--card);
      border: 2px solid transparent;
      border-radius: var(--radius);
      color: var(--text);
      font-size: 16px;
      font-weight: 500;
      transition: var(--transition);
      box-shadow: var(--shadow);
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 10px 40px rgba(37, 99, 235, 0.2);
      transform: translateY(-2px);
    }
    
    .search-btn {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--gradient-primary);
      border: none;
      border-radius: 10px;
      width: 48px;
      height: 48px;
      color: white;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    }
    
    .search-btn:hover {
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 6px 25px rgba(37, 99, 235, 0.4);
    }
    
    /* è¿‡æ»¤æ ‡ç­¾ - é«˜çº§æ„Ÿè®¾è®¡ */
    .filter-tags {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    
    .filter-tag {
      padding: 10px 20px;
      background: var(--card);
      border: 2px solid var(--border);
      border-radius: 50px;
      color: var(--text);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .filter-tag::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity 0.3s;
      z-index: -1;
    }
    
    .filter-tag:hover {
      transform: translateY(-3px);
      border-color: var(--primary);
      box-shadow: 0 10px 25px rgba(37, 99, 235, 0.1);
    }
    
    .filter-tag.active {
      color: white;
      border-color: transparent;
    }
    
    .filter-tag.active::before {
      opacity: 1;
    }
    
    /* å†…å®¹åŒºåŸŸ */
    .content-area {
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 40px;
      padding: 40px 0 80px;
      min-height: calc(100vh - 300px);
    }
    
    /* é«˜çº§ä¾§è¾¹æ  */
    .sidebar {
      background: var(--card);
      border-radius: var(--radius);
      padding: 30px;
      border: 1px solid var(--border);
      height: fit-content;
      box-shadow: var(--shadow);
      position: sticky;
      top: 120px;
      backdrop-filter: blur(10px);
    }
    
    .sidebar-section {
      margin-bottom: 40px;
      position: relative;
    }
    
    .sidebar-section::after {
      content: '';
      position: absolute;
      bottom: -20px;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, var(--primary), transparent);
      opacity: 0.3;
    }
    
    .sidebar-section:last-child::after {
      display: none;
    }
    
    .section-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--muted);
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* æœç´¢å¹³å°é€‰æ‹© - é«˜çº§æ„Ÿ */
    .platform-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }
    
    .platform-item {
      background: var(--bg);
      border: 2px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      cursor: pointer;
      transition: var(--transition);
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .platform-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity 0.3s;
      z-index: -1;
    }
    
    .platform-item:hover {
      transform: translateY(-5px);
      border-color: var(--primary);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }
    
    .platform-item.active {
      color: white;
      border-color: transparent;
    }
    
    .platform-item.active::before {
      opacity: 1;
    }
    
    .platform-icon {
      font-size: 28px;
      margin-bottom: 12px;
      display: block;
      transition: transform 0.3s;
    }
    
    .platform-item:hover .platform-icon {
      transform: scale(1.2);
    }
    
    .platform-name {
      font-size: 14px;
      font-weight: 600;
    }
    
    /* ä¸»å†…å®¹åŒº - é‡‡ç”¨ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å›¾ç‰‡å±•ç¤ºé£æ ¼ */
    .main-content {
      min-height: 800px;
    }
    
    /* æœç´¢ç»“æœå¤´éƒ¨ */
    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 1px solid var(--border);
      position: relative;
    }
    
    .results-header::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100px;
      height: 2px;
      background: var(--gradient-primary);
    }
    
    .results-count {
      color: var(--muted);
      font-size: 15px;
      font-weight: 500;
    }
    
    /* é«˜çº§æ’åºæŒ‰é’® */
    .sort-options {
      display: flex;
      gap: 12px;
    }
    
    .sort-btn {
      padding: 12px 24px;
      background: var(--card);
      border: 2px solid var(--border);
      border-radius: var(--radius);
      color: var(--text);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .sort-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity 0.3s;
      z-index: -1;
    }
    
    .sort-btn:hover {
      transform: translateY(-3px);
      border-color: var(--primary);
      box-shadow: 0 10px 25px rgba(37, 99, 235, 0.1);
    }
    
    .sort-btn.active {
      color: white;
      border-color: transparent;
    }
    
    .sort-btn.active::before {
      opacity: 1;
    }
    
    /* é«˜çº§å›¾ç‰‡ç½‘æ ¼ - ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„ç²¾é«“ */
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 30px;
    }
    
    /* é«˜çº§å›¾ç‰‡å¡ç‰‡è®¾è®¡ */
    .image-card {
      background: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid var(--border);
      transition: var(--transition);
      cursor: pointer;
      position: relative;
      box-shadow: var(--shadow);
    }
    
    .image-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom, transparent 40%, rgba(0,0,0,0.9));
      opacity: 0.8;
      z-index: 1;
    }
    
    .image-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
    }
    
    .image-container {
      position: relative;
      width: 100%;
      height: 280px;
      overflow: hidden;
    }
    
    .image-preview {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .image-card:hover .image-preview {
      transform: scale(1.1);
    }
    
    /* å›¾ç‰‡è¦†ç›–å±‚è®¾è®¡ */
    .image-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 25px;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      z-index: 2;
      background: linear-gradient(
        to bottom,
        transparent 0%,
        rgba(0, 0, 0, 0.2) 30%,
        rgba(0, 0, 0, 0.8) 100%
      );
    }
    
    .image-badge {
      position: absolute;
      top: 20px;
      right: 20px;
      background: var(--gradient-primary);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 3;
    }
    
    .image-info {
      transform: translateY(20px);
      opacity: 0;
      transition: all 0.4s ease;
    }
    
    .image-card:hover .image-info {
      transform: translateY(0);
      opacity: 1;
    }
    
    .image-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 12px;
      color: white;
      line-height: 1.3;
    }
    
    .image-desc {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 20px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .image-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .image-source {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .source-icon {
      width: 24px;
      height: 24px;
      background: var(--gradient-primary);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    .source-name {
      font-size: 13px;
      font-weight: 600;
      color: white;
    }
    
    .image-stats {
      display: flex;
      gap: 15px;
      color: rgba(255, 255, 255, 0.8);
      font-size: 13px;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    /* åŠ è½½æ›´å¤šæŒ‰é’® */
    .load-more {
      text-align: center;
      margin: 60px 0;
    }
    
    .load-more-btn {
      padding: 18px 50px;
      background: var(--gradient-primary);
      border: none;
      border-radius: var(--radius);
      color: white;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
      position: relative;
      overflow: hidden;
    }
    
    .load-more-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(37, 99, 235, 0.4);
    }
    
    /* é«˜çº§æ¨¡æ€æ¡† */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(20px);
      z-index: 2000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 40px;
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal-overlay.active {
      display: flex;
    }
    
    .modal-content {
      background: var(--card);
      border-radius: 24px;
      max-width: 1400px;
      width: 100%;
      max-height: 90vh;
      overflow: hidden;
      position: relative;
      border: 1px solid var(--border);
      box-shadow: 0 40px 80px rgba(0, 0, 0, 0.4);
      animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .modal-close {
      position: absolute;
      top: 25px;
      right: 25px;
      background: rgba(0,0,0,0.5);
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      color: white;
      font-size: 24px;
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      backdrop-filter: blur(10px);
    }
    
    .modal-close:hover {
      background: rgba(0,0,0,0.8);
      transform: rotate(90deg);
    }
    
    .modal-body {
      display: grid;
      grid-template-columns: 1.5fr 1fr;
      height: calc(90vh - 60px);
    }
    
    .modal-image {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 60px;
      position: relative;
      overflow: hidden;
    }
    
    .modal-image::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 30% 30%, rgba(37, 99, 235, 0.1), transparent 50%);
    }
    
    .modal-image img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }
    
    .modal-info {
      padding: 50px;
      overflow-y: auto;
      background: var(--card);
      position: relative;
    }
    
    .modal-info::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, var(--primary), transparent);
    }
    
    .modal-title {
      font-size: 32px;
      font-weight: 800;
      margin-bottom: 20px;
      color: var(--text);
      line-height: 1.2;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .modal-desc {
      color: var(--muted);
      margin-bottom: 40px;
      line-height: 1.8;
      font-size: 16px;
    }
    
    .modal-meta {
      margin-bottom: 40px;
      padding: 30px;
      background: var(--bg);
      border-radius: var(--radius);
      border: 1px solid var(--border);
    }
    
    .meta-item {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
      font-size: 15px;
    }
    
    .meta-label {
      color: var(--muted);
      min-width: 100px;
      font-weight: 500;
    }
    
    .meta-value {
      color: var(--text);
      font-weight: 600;
    }
    
    .meta-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--gradient-primary);
      color: white;
      padding: 6px 15px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
    }
    
    .action-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 40px;
    }
    
    .action-btn {
      padding: 18px;
      background: var(--gradient-primary);
      border: none;
      border-radius: var(--radius);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
    }
    
    .action-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(37, 99, 235, 0.4);
    }
    
    .action-btn.secondary {
      background: transparent;
      border: 2px solid var(--border);
      color: var(--text);
      box-shadow: none;
    }
    
    .action-btn.secondary:hover {
      border-color: var(--primary);
      background: rgba(37, 99, 235, 0.1);
    }
    
    /* åŠ è½½æŒ‡ç¤ºå™¨ */
    .loader {
      display: none;
      text-align: center;
      padding: 100px;
    }
    
    .loader.active {
      display: block;
    }
    
    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid var(--border);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 30px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 1200px) {
      .content-area {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        position: static;
        margin-bottom: 40px;
      }
      
      .modal-body {
        grid-template-columns: 1fr;
        height: auto;
        max-height: 80vh;
      }
      
      .modal-image {
        max-height: 50vh;
        padding: 40px;
      }
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 0 16px;
      }
      
      .nav-content {
        flex-direction: column;
        gap: 15px;
      }
      
      .nav-left, .nav-right {
        width: 100%;
        justify-content: center;
      }
      
      .header-content {
        flex-direction: column;
        gap: 30px;
      }
      
      .image-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
      }
      
      .results-header {
        flex-direction: column;
        gap: 20px;
      }
      
      .sort-options {
        width: 100%;
        overflow-x: auto;
        padding-bottom: 10px;
      }
      
      .modal-overlay {
        padding: 20px;
      }
    }
  </style>
</head>
<body class="dark-mode">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <nav class="top-nav">
    <div class="container">
      <div class="nav-content">
        <div class="nav-left">
          <a href="index.html" class="back-btn">
            <span>â†</span>
            è¿”å›å¯¼èˆª
          </a>
        </div>
        
        <div class="nav-right">
          <div class="theme-toggle">
            <button class="theme-btn active" id="darkBtn">
              <span>ğŸŒ™</span>
              é»‘å¤œæ¨¡å¼
            </button>
            <button class="theme-btn" id="lightBtn">
              <span>â˜€ï¸</span>
              ç™½å¤©æ¨¡å¼
            </button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- å¤´éƒ¨ -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <div class="logo-icon">3D</div>
          <div class="logo-text">3Dæ¨¡å‹èµ„æºæœç´¢</div>
        </div>
        
        <div class="main-search">
          <div class="search-box">
            <input type="text" class="search-input" id="searchInput" placeholder="æœç´¢3Dæ¨¡å‹ã€è§’è‰²ã€åœºæ™¯ã€æè´¨..." autocomplete="off">
            <button class="search-btn" id="searchBtn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
              </svg>
            </button>
          </div>
          
          <div class="filter-tags">
            <div class="filter-tag active" data-filter="all">å…¨éƒ¨</div>
            <div class="filter-tag" data-filter="character">è§’è‰²</div>
            <div class="filter-tag" data-filter="environment">åœºæ™¯</div>
            <div class="filter-tag" data-filter="vehicle">è½½å…·</div>
            <div class="filter-tag" data-filter="architecture">å»ºç­‘</div>
            <div class="filter-tag" data-filter="weapon">æ­¦å™¨</div>
            <div class="filter-tag" data-filter="furniture">å®¶å…·</div>
            <div class="filter-tag" data-filter="nature">è‡ªç„¶</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- ä¸»å†…å®¹ -->
  <main class="container content-area">
    <!-- ä¾§è¾¹æ  -->
    <aside class="sidebar">
      <div class="sidebar-section">
        <div class="section-title">ğŸ” æœç´¢å¹³å°</div>
        <div class="platform-grid">
          <div class="platform-item active" data-platform="surfcg">
            <span class="platform-icon">ğŸŒŠ</span>
            <span class="platform-name">SurfCG</span>
          </div>
          <div class="platform-item" data-platform="sketchfab">
            <span class="platform-icon">ğŸ¯</span>
            <span class="platform-name">Sketchfab</span>
          </div>
          <div class="platform-item" data-platform="cgtrader">
            <span class="platform-icon">ğŸ’°</span>
            <span class="platform-name">CGTrader</span>
          </div>
          <div class="platform-item" data-platform="turbosquid">
            <span class="platform-icon">ğŸ™</span>
            <span class="platform-name">TurboSquid</span>
          </div>
          <div class="platform-item" data-platform="free3d">
            <span class="platform-icon">ğŸ</span>
            <span class="platform-name">Free3D</span>
          </div>
          <div class="platform-item" data-platform="all">å…¨éƒ¨å¹³å°</div>
        </div>
      </div>

      <div class="sidebar-section">
        <div class="section-title">ğŸ“ æ¨¡å‹ç±»å‹</div>
        <div class="type-list">
          <div class="type-item active" data-type="all">
            <span>ğŸ“¦</span>
            <span>å…¨éƒ¨ç±»å‹</span>
          </div>
          <div class="type-item" data-type="highpoly">
            <span>âœ¨</span>
            <span>é«˜å¤šè¾¹å½¢</span>
          </div>
          <div class="type-item" data-type="lowpoly">
            <span>ğŸ”º</span>
            <span>ä½å¤šè¾¹å½¢</span>
          </div>
          <div class="type-item" data-type="rigged">
            <span>ğŸ¦´</span>
            <span>éª¨éª¼ç»‘å®š</span>
          </div>
          <div class="type-item" data-type="animated">
            <span>ğŸ¬</span>
            <span>å¸¦åŠ¨ç”»</span>
          </div>
          <div class="type-item" data-type="pbr">
            <span>ğŸ¨</span>
            <span>PBRæè´¨</span>
          </div>
        </div>
      </div>

      <div class="sidebar-section">
        <div class="section-title">ğŸ”¥ çƒ­é—¨æœç´¢</div>
        <div class="trending-list">
          <div class="trending-item" data-query="ç§‘å¹»æœºç”²">
            <div class="trending-rank">1</div>
            <div>ç§‘å¹»æœºç”²</div>
          </div>
          <div class="trending-item" data-query="æ¸¸æˆè§’è‰²">
            <div class="trending-rank">2</div>
            <div>æ¸¸æˆè§’è‰²</div>
          </div>
          <div class="trending-item" data-query="ç°ä»£å»ºç­‘">
            <div class="trending-rank">3</div>
            <div>ç°ä»£å»ºç­‘</div>
          </div>
          <div class="trending-item" data-query="æ¦‚å¿µè®¾è®¡">
            <div class="trending-rank">4</div>
            <div>æ¦‚å¿µè®¾è®¡</div>
          </div>
          <div class="trending-item" data-query="åŠ¨ç”»è§’è‰²">
            <div class="trending-rank">5</div>
            <div>åŠ¨ç”»è§’è‰²</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="main-content">
      <div class="results-header">
        <div>
          <h2 style="font-size: 32px; margin-bottom: 12px; font-weight: 800; color: var(--text);">ç²¾é€‰3Dæ¨¡å‹ç¤ºä¾‹</h2>
          <div class="results-count" id="resultsCount">æ˜¾ç¤º 12 ä¸ªé«˜è´¨é‡ç»“æœ</div>
        </div>
        
        <div class="sort-options">
          <button class="sort-btn active" data-sort="relevance">ç›¸å…³åº¦</button>
          <button class="sort-btn" data-sort="popular">å—æ¬¢è¿åº¦</button>
          <button class="sort-btn" data-sort="newest">æœ€æ–°å‘å¸ƒ</button>
          <button class="sort-btn" data-sort="quality">è´¨é‡è¯„åˆ†</button>
        </div>
      </div>

      <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
      <div class="loader" id="searchLoader">
        <div class="spinner"></div>
        <div style="color: var(--muted); margin-top: 20px; font-size: 16px;">æ­£åœ¨æœç´¢æœ€ä½³èµ„æº...</div>
      </div>

      <!-- å›¾ç‰‡ç½‘æ ¼ -->
      <div class="image-grid" id="imageGrid">
        <!-- å›¾ç‰‡å¡ç‰‡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
      </div>

      <!-- åŠ è½½æ›´å¤š -->
      <div class="load-more">
        <button class="load-more-btn" id="loadMoreBtn">åŠ è½½æ›´å¤šä¼˜è´¨èµ„æº</button>
      </div>
    </div>
  </main>

  <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
  <div class="modal-overlay" id="imageModal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">&times;</button>
      <div class="modal-body" id="modalBody">
        <!-- æ¨¡æ€æ¡†å†…å®¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
  </div>

  <script>
    // 3Dæ¨¡å‹èµ„æºæ•°æ®
    const modelResources = [
      {
        id: 1,
        title: "æœªæ¥æˆ˜å£«æœºç”²",
        description: "é«˜åº¦è¯¦ç»†çš„ç§‘å¹»æœºç”²è§’è‰²æ¨¡å‹ï¼ŒåŒ…å«å®Œæ•´çš„PBRæè´¨å’Œçº¹ç†è´´å›¾ï¼Œé€‚ç”¨äºæ¸¸æˆå¼€å‘å’Œå½±è§†æ¸²æŸ“ã€‚",
        type: "character",
        subtype: "highpoly",
        platform: "surfcg",
        image: "https://images.unsplash.com/photo-1636466497217-26a8cbeaf0aa?w=1200&h=800&fit=crop",
        views: 12500,
        likes: 842,
        quality: 9.2,
        author: "CyberArt Studio",
        tags: ["æœºç”²", "ç§‘å¹»", "PBRæè´¨", "é«˜æ¨¡"],
        date: "2024-01-15",
        url: "https://www.surfcg.com/model/future-warrior-mecha"
      },
      {
        id: 2,
        title: "å¤ªç©ºæˆ˜æœºæ¨¡å‹",
        description: "ä½å¤šè¾¹å½¢å¤ªç©ºæˆ˜æœºæ¨¡å‹ï¼ŒåŒ…å«LODçº§åˆ«å’ŒUVè´´å›¾ï¼Œé€‚ç”¨äºç§»åŠ¨ç«¯æ¸¸æˆå¼€å‘ã€‚",
        type: "vehicle",
        subtype: "lowpoly",
        platform: "sketchfab",
        image: "https://images.unsplash.com/photo-1536152471326-642d7bb5e4c1?w=1200&h=800&fit=crop",
        views: 8560,
        likes: 523,
        quality: 8.5,
        author: "SpaceCraft Models",
        tags: ["å¤ªç©º", "æˆ˜æœº", "ä½æ¨¡", "æ¸¸æˆæ¨¡å‹"],
        date: "2024-02-20",
        url: "https://sketchfab.com/models/space-fighter"
      },
      {
        id: 3,
        title: "æ¦‚å¿µç§‘å¹»å»ºç­‘",
        description: "æœªæ¥ä¸»ä¹‰å»ºç­‘æ¦‚å¿µè®¾è®¡ï¼ŒåŒ…å«å®Œæ•´çš„ç¯å¢ƒè®¾ç½®å’Œç¯å…‰é¢„è®¾ï¼Œé€‚åˆæ¦‚å¿µè‰ºæœ¯å‚è€ƒã€‚",
        type: "architecture",
        subtype: "highpoly",
        platform: "cgtrader",
        image: "https://images.unsplash.com/photo-1542744095-fcf48d80b0fd?w=1200&h=800&fit=crop",
        views: 23400,
        likes: 1256,
        quality: 9.5,
        author: "Concept Design Lab",
        tags: ["å»ºç­‘", "æ¦‚å¿µè®¾è®¡", "æœªæ¥ä¸»ä¹‰", "ç¯å¢ƒ"],
        date: "2024-01-05",
        url: "https://www.cgtrader.com/3d-models/architecture/concept-futuristic-building"
      },
      {
        id: 4,
        title: "æ¸¸æˆè§’è‰² - å…½äººæˆ˜å£«",
        description: "å®Œæ•´çš„æ¸¸æˆè§’è‰²æ¨¡å‹ï¼ŒåŒ…å«éª¨éª¼ç»‘å®šã€åŸºç¡€åŠ¨ç”»å’ŒPBRæè´¨ï¼Œé€‚ç”¨äºUnityå’ŒUnrealå¼•æ“ã€‚",
        type: "character",
        subtype: "rigged",
        platform: "turbosquid",
        image: "https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=1200&h=800&fit=crop",
        views: 18700,
        likes: 934,
        quality: 8.8,
        author: "GameDev Assets",
        tags: ["è§’è‰²", "å…½äºº", "éª¨éª¼ç»‘å®š", "æ¸¸æˆå¼€å‘"],
        date: "2024-02-10",
        url: "https://www.turbosquid.com/3d-models/orc-warrior-character"
      },
      {
        id: 5,
        title: "è‡ªç„¶ç¯å¢ƒåœºæ™¯",
        description: "é«˜è´¨é‡è‡ªç„¶ç¯å¢ƒåœºæ™¯ï¼ŒåŒ…å«æ ‘æœ¨ã€å²©çŸ³ã€è‰åœ°ç­‰å…ƒç´ ï¼Œé€‚ç”¨äºå½±è§†çº§æ¸²æŸ“ã€‚",
        type: "nature",
        subtype: "highpoly",
        platform: "free3d",
        image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=800&fit=crop",
        views: 15200,
        likes: 756,
        quality: 8.7,
        author: "Nature Assets",
        tags: ["è‡ªç„¶", "åœºæ™¯", "ç¯å¢ƒ", "å½±è§†çº§"],
        date: "2024-01-25",
        url: "https://free3d.com/3d-model/nature-environment-scene"
      },
      {
        id: 6,
        title: "ç°ä»£æ­¦å™¨å¥—ç»„",
        description: "é«˜ç²¾åº¦ç°ä»£æ­¦å™¨æ¨¡å‹å¥—ç»„ï¼ŒåŒ…å«æ‰‹æªã€æ­¥æªã€ç‹™å‡»æªç­‰å¤šç§æ­¦å™¨ï¼Œé™„å¸¦PBRæè´¨ã€‚",
        type: "weapon",
        subtype: "highpoly",
        platform: "surfcg",
        image: "https://images.unsplash.com/photo-1595263182392-7c2c0b1b5b2e?w=1200&h=800&fit=crop",
        views: 19800,
        likes: 1023,
        quality: 9.0,
        author: "Weapon Master",
        tags: ["æ­¦å™¨", "æªæ¢°", "é«˜ç²¾åº¦", "PBRæè´¨"],
        date: "2024-02-05",
        url: "https://www.surfcg.com/model/modern-weapon-pack"
      },
      {
        id: 7,
        title: "æ¦‚å¿µè½½å…·è®¾è®¡",
        description: "æœªæ¥æ¦‚å¿µè½½å…·è®¾è®¡æ¨¡å‹ï¼ŒåŒ…å«è¯¦ç»†çš„å†…éƒ¨ç»“æ„å’Œå¤–éƒ¨è®¾è®¡ï¼Œé€‚åˆæ¦‚å¿µè‰ºæœ¯å®¶å‚è€ƒã€‚",
        type: "vehicle",
        subtype: "highpoly",
        platform: "sketchfab",
        image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?w=1200&h=800&fit=crop",
        views: 11200,
        likes: 634,
        quality: 8.9,
        author: "Vehicle Concepts",
        tags: ["è½½å…·", "æ¦‚å¿µ", "æœªæ¥è®¾è®¡", "è¯¦ç»†"],
        date: "2024-02-15",
        url: "https://sketchfab.com/models/concept-vehicle-design"
      },
      {
        id: 8,
        title: "ä¸­ä¸–çºªåŸå ¡",
        description: "å®Œæ•´çš„ä¸­ä¸–çºªåŸå ¡æ¨¡å‹ï¼ŒåŒ…å«å»ºç­‘ç»†èŠ‚ã€çº¹ç†è´´å›¾å’Œç¯å¢ƒè®¾ç½®ï¼Œé€‚ç”¨äºæ¸¸æˆåœºæ™¯ã€‚",
        type: "architecture",
        subtype: "highpoly",
        platform: "cgtrader",
        image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1200&h=800&fit=crop",
        views: 24500,
        likes: 1345,
        quality: 9.3,
        author: "Historic Models",
        tags: ["åŸå ¡", "ä¸­ä¸–çºª", "å»ºç­‘", "æ¸¸æˆåœºæ™¯"],
        date: "2024-01-20",
        url: "https://www.cgtrader.com/3d-models/architecture/medieval-castle-complete"
      },
      {
        id: 9,
        title: "å¡é€šé£æ ¼è§’è‰²",
        description: "å¯çˆ±å¡é€šé£æ ¼è§’è‰²æ¨¡å‹ï¼ŒåŒ…å«è¡¨æƒ…åŠ¨ç”»å’Œå¤šç§å§¿åŠ¿ï¼Œé€‚ç”¨äºåŠ¨ç”»åˆ¶ä½œå’Œæ¸¸æˆå¼€å‘ã€‚",
        type: "character",
        subtype: "animated",
        platform: "turbosquid",
        image: "https://images.unsplash.com/photo-1531259683007-016a7b628fc3?w=1200&h=800&fit=crop",
        views: 17600,
        likes: 897,
        quality: 8.6,
        author: "Cartoon Studio",
        tags: ["å¡é€š", "è§’è‰²", "åŠ¨ç”»", "å¯çˆ±"],
        date: "2024-02-08",
        url: "https://www.turbosquid.com/3d-models/cartoon-character-animated"
      },
      {
        id: 10,
        title: "ç§‘å¹»å®¶å…·å¥—ç»„",
        description: "æœªæ¥ä¸»ä¹‰é£æ ¼å®¶å…·å¥—ç»„ï¼ŒåŒ…å«æ²™å‘ã€æ¡Œå­ã€ç¯å…·ç­‰å¤šç§å…ƒç´ ï¼Œé™„å¸¦PBRæè´¨ã€‚",
        type: "furniture",
        subtype: "highpoly",
        platform: "free3d",
        image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=1200&h=800&fit=crop",
        views: 8900,
        likes: 456,
        quality: 8.4,
        author: "Furniture Design",
        tags: ["å®¶å…·", "ç§‘å¹»", "å®¤å†…", "PBRæè´¨"],
        date: "2024-02-18",
        url: "https://free3d.com/3d-model/futuristic-furniture-pack"
      },
      {
        id: 11,
        title: "è‡ªç„¶æ ‘æœ¨é›†åˆ",
        description: "é«˜è´¨é‡æ ‘æœ¨æ¨¡å‹é›†åˆï¼ŒåŒ…å«å¤šç§ç±»å‹çš„æ ‘æœ¨ï¼Œé™„å¸¦å­£èŠ‚å˜åŒ–æè´¨ï¼Œé€‚ç”¨äºç¯å¢ƒè®¾è®¡ã€‚",
        type: "nature",
        subtype: "highpoly",
        platform: "surfcg",
        image: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200&h=800&fit=crop",
        views: 14300,
        likes: 723,
        quality: 8.8,
        author: "Nature Assets Pro",
        tags: ["æ ‘æœ¨", "è‡ªç„¶", "ç¯å¢ƒ", "å­£èŠ‚å˜åŒ–"],
        date: "2024-01-30",
        url: "https://www.surfcg.com/model/tree-collection-nature"
      },
      {
        id: 12,
        title: "æœºæ¢°æ‰‹è‡‚æ¨¡å‹",
        description: "é«˜ç²¾åº¦æœºæ¢°æ‰‹è‡‚æ¨¡å‹ï¼ŒåŒ…å«å®Œæ•´çš„å…³èŠ‚è¿åŠ¨ç³»ç»Ÿï¼Œé€‚ç”¨äºå·¥ä¸šè®¾è®¡å’ŒåŠ¨ç”»åˆ¶ä½œã€‚",
        type: "weapon",
        subtype: "highpoly",
        platform: "sketchfab",
        image: "https://images.unsplash.com/photo-1589256469067-ea99122bbdc4?w=1200&h=800&fit=crop",
        views: 10100,
        likes: 589,
        quality: 8.7,
        author: "Mechanical Designs",
        tags: ["æœºæ¢°", "æ‰‹è‡‚", "å·¥ä¸šè®¾è®¡", "é«˜ç²¾åº¦"],
        date: "2024-02-12",
        url: "https://sketchfab.com/models/mechanical-arm-robot"
      }
    ];

    // åº”ç”¨ç¨‹åºçŠ¶æ€
    let currentState = {
      query: '',
      filter: 'all',
      platform: 'surfcg',
      type: 'all',
      sort: 'relevance',
      currentPage: 1,
      itemsPerPage: 12,
      currentResults: []
    };

    // DOMå…ƒç´ 
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const filterTags = document.querySelectorAll('.filter-tag');
    const platformItems = document.querySelectorAll('.platform-item');
    const typeItems = document.querySelectorAll('.type-item');
    const trendingItems = document.querySelectorAll('.trending-item');
    const sortButtons = document.querySelectorAll('.sort-btn');
    const imageGrid = document.getElementById('imageGrid');
    const resultsCount = document.getElementById('resultsCount');
    const searchLoader = document.getElementById('searchLoader');
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    const imageModal = document.getElementById('imageModal');
    const modalClose = document.getElementById('modalClose');
    const modalBody = document.getElementById('modalBody');
    
    // ä¸»é¢˜åˆ‡æ¢å…ƒç´ 
    const darkBtn = document.getElementById('darkBtn');
    const lightBtn = document.getElementById('lightBtn');
    const body = document.body;

    // åˆå§‹åŒ–åº”ç”¨
    function initApp() {
      // åŠ è½½ä¿å­˜çš„ä¸»é¢˜
      loadTheme();
      
      // æ˜¾ç¤ºåˆå§‹ç»“æœ
      currentState.currentResults = [...modelResources];
      updateResults();
      
      // äº‹ä»¶ç›‘å¬å™¨
      searchBtn.addEventListener('click', performSearch);
      searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') performSearch();
      });
      
      // è¿‡æ»¤å™¨äº‹ä»¶
      filterTags.forEach(tag => {
        tag.addEventListener('click', () => {
          filterTags.forEach(t => t.classList.remove('active'));
          tag.classList.add('active');
          currentState.filter = tag.dataset.filter;
          performSearch();
        });
      });
      
      // å¹³å°é€‰æ‹©äº‹ä»¶
      platformItems.forEach(item => {
        item.addEventListener('click', () => {
          platformItems.forEach(p => p.classList.remove('active'));
          item.classList.add('active');
          currentState.platform = item.dataset.platform;
          performSearch();
        });
      });
      
      // ç±»å‹é€‰æ‹©äº‹ä»¶
      typeItems.forEach(item => {
        item.addEventListener('click', () => {
          typeItems.forEach(t => t.classList.remove('active'));
          item.classList.add('active');
          currentState.type = item.dataset.type;
          performSearch();
        });
      });
      
      // çƒ­é—¨æœç´¢äº‹ä»¶
      trendingItems.forEach(item => {
        item.addEventListener('click', () => {
          const query = item.dataset.query;
          searchInput.value = query;
          currentState.query = query;
          performSearch();
        });
      });
      
      // æ’åºæŒ‰é’®äº‹ä»¶
      sortButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          sortButtons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          currentState.sort = btn.dataset.sort;
          performSearch();
        });
      });
      
      // åŠ è½½æ›´å¤šäº‹ä»¶
      loadMoreBtn.addEventListener('click', loadMore);
      
      // æ¨¡æ€æ¡†å…³é—­äº‹ä»¶
      modalClose.addEventListener('click', () => {
        imageModal.classList.remove('active');
      });
      
      // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
      imageModal.addEventListener('click', (e) => {
        if (e.target === imageModal) {
          imageModal.classList.remove('active');
        }
      });
      
      // ä¸»é¢˜åˆ‡æ¢äº‹ä»¶
      darkBtn.addEventListener('click', () => setTheme('dark'));
      lightBtn.addEventListener('click', () => setTheme('light'));
      
      // ç¤ºä¾‹æœç´¢æç¤º
      const searchExamples = [
        "ç§‘å¹»æœºç”²è§’è‰²",
        "æ¸¸æˆåœºæ™¯å»ºç­‘",
        "PBRæè´¨æ¨¡å‹",
        "åŠ¨ç”»è§’è‰²ç»‘å®š",
        "æ¦‚å¿µè®¾è®¡å‚è€ƒ"
      ];
      
      let exampleIndex = 0;
      setInterval(() => {
        searchInput.placeholder = `æœç´¢ ${searchExamples[exampleIndex]}...`;
        exampleIndex = (exampleIndex + 1) % searchExamples.length;
      }, 3000);
    }
    
    // è®¾ç½®ä¸»é¢˜
    function setTheme(theme) {
      body.classList.remove('light-mode', 'dark-mode');
      body.classList.add(`${theme}-mode`);
      
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      darkBtn.classList.remove('active');
      lightBtn.classList.remove('active');
      if (theme === 'dark') {
        darkBtn.classList.add('active');
      } else {
        lightBtn.classList.add('active');
      }
      
      // ä¿å­˜åˆ°localStorage
      localStorage.setItem('theme', theme);
    }
    
    // åŠ è½½ä¿å­˜çš„ä¸»é¢˜
    function loadTheme() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      setTheme(savedTheme);
    }
    
    // æ‰§è¡Œæœç´¢
    function performSearch() {
      currentState.query = searchInput.value.trim();
      currentState.currentPage = 1;
      
      // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
      searchLoader.classList.add('active');
      imageGrid.innerHTML = '';
      
      // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
      setTimeout(() => {
        filterResults();
        searchLoader.classList.remove('active');
      }, 800);
    }
    
    // è¿‡æ»¤ç»“æœ
    function filterResults() {
      let results = [...modelResources];
      
      // æŒ‰å…³é”®è¯è¿‡æ»¤
      if (currentState.query) {
        const query = currentState.query.toLowerCase();
        results = results.filter(item => 
          item.title.toLowerCase().includes(query) ||
          item.description.toLowerCase().includes(query) ||
          item.tags.some(tag => tag.toLowerCase().includes(query)) ||
          item.author.toLowerCase().includes(query)
        );
      }
      
      // æŒ‰ç±»å‹è¿‡æ»¤
      if (currentState.filter !== 'all') {
        results = results.filter(item => item.type === currentState.filter);
      }
      
      // æŒ‰å¹³å°è¿‡æ»¤
      if (currentState.platform !== 'all') {
        results = results.filter(item => item.platform === currentState.platform);
      }
      
      // æŒ‰æ¨¡å‹ç±»å‹è¿‡æ»¤
      if (currentState.type !== 'all') {
        results = results.filter(item => item.subtype === currentState.type);
      }
      
      // æ’åº
      results = sortResults(results, currentState.sort);
      
      currentState.currentResults = results;
      updateResults();
    }
    
    // æ’åºç»“æœ
    function sortResults(results, sortType) {
      const sorted = [...results];
      
      switch(sortType) {
        case 'popular':
          sorted.sort((a, b) => b.views - a.views);
          break;
        case 'newest':
          sorted.sort((a, b) => new Date(b.date) - new Date(a.date));
          break;
        case 'quality':
          sorted.sort((a, b) => b.quality - a.quality);
          break;
        case 'relevance':
        default:
          // é»˜è®¤æŒ‰ç›¸å…³åº¦ï¼ˆè´¨é‡+çƒ­åº¦åŠ æƒï¼‰
          sorted.sort((a, b) => {
            const scoreA = (a.quality * 0.6) + (a.views / 10000 * 0.4);
            const scoreB = (b.quality * 0.6) + (b.views / 10000 * 0.4);
            return scoreB - scoreA;
          });
      }
      
      return sorted;
    }
    
    // æ›´æ–°ç»“æœæ˜¾ç¤º
    function updateResults() {
      const startIndex = (currentState.currentPage - 1) * currentState.itemsPerPage;
      const endIndex = startIndex + currentState.itemsPerPage;
      const pageResults = currentState.currentResults.slice(startIndex, endIndex);
      
      // æ›´æ–°è®¡æ•°
      resultsCount.textContent = `æ˜¾ç¤º ${pageResults.length} ä¸ªç»“æœ (å…± ${currentState.currentResults.length} ä¸ª)`;
      
      // æ¸…ç©ºç½‘æ ¼
      imageGrid.innerHTML = '';
      
      // æ·»åŠ ç»“æœå¡ç‰‡
      pageResults.forEach(item => {
        const card = createImageCard(item);
        imageGrid.appendChild(card);
      });
      
      // æ§åˆ¶åŠ è½½æ›´å¤šæŒ‰é’®æ˜¾ç¤º
      if (endIndex >= currentState.currentResults.length) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.style.display = 'block';
      }
    }
    
    // åˆ›å»ºå›¾ç‰‡å¡ç‰‡ - é‡‡ç”¨ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„é«˜çº§è®¾è®¡
    function createImageCard(item) {
      const card = document.createElement('div');
      card.className = 'image-card';
      card.dataset.id = item.id;
      
      const platformIcons = {
        surfcg: 'ğŸŒŠ',
        sketchfab: 'ğŸ¯',
        cgtrader: 'ğŸ’°',
        turbosquid: 'ğŸ™',
        free3d: 'ğŸ'
      };
      
      card.innerHTML = `
        <div class="image-container">
          <img src="${item.image}" alt="${item.title}" class="image-preview" loading="lazy">
          <div class="image-badge">â­ ${item.quality.toFixed(1)}</div>
          <div class="image-overlay">
            <div class="image-info">
              <div class="image-title">${item.title}</div>
              <div class="image-desc">${item.description}</div>
              <div class="image-meta">
                <div class="image-source">
                  <span class="source-icon">${platformIcons[item.platform] || 'ğŸŒ'}</span>
                  <span class="source-name">${item.platform}</span>
                </div>
                <div class="image-stats">
                  <div class="stat-item">
                    <span>ğŸ‘ï¸</span>
                    <span>${(item.views / 1000).toFixed(1)}k</span>
                  </div>
                  <div class="stat-item">
                    <span>â¤ï¸</span>
                    <span>${item.likes}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
      
      card.addEventListener('click', () => {
        showImageDetails(item);
      });
      
      return card;
    }
    
    // æ˜¾ç¤ºå›¾ç‰‡è¯¦æƒ…
    function showImageDetails(item) {
      const platformIcons = {
        surfcg: 'ğŸŒŠ',
        sketchfab: 'ğŸ¯',
        cgtrader: 'ğŸ’°',
        turbosquid: 'ğŸ™',
        free3d: 'ğŸ'
      };
      
      const typeIcons = {
        character: 'ğŸ‘¤',
        environment: 'ğŸï¸',
        vehicle: 'ğŸš—',
        architecture: 'ğŸ›ï¸',
        weapon: 'âš”ï¸',
        furniture: 'ğŸ›‹ï¸',
        nature: 'ğŸŒ³'
      };
      
      modalBody.innerHTML = `
        <div class="modal-image">
          <img src="${item.image}" alt="${item.title}">
        </div>
        <div class="modal-info">
          <div class="modal-title">${item.title}</div>
          <div class="modal-desc">${item.description}</div>
          
          <div class="modal-meta">
            <div class="meta-item">
              <div class="meta-label">å¹³å°</div>
              <div class="meta-value">
                <span class="meta-badge">
                  ${platformIcons[item.platform] || 'ğŸŒ'}
                  ${item.platform.toUpperCase()}
                </span>
              </div>
            </div>
            
            <div class="meta-item">
              <div class="meta-label">ç±»å‹</div>
              <div class="meta-value">
                <span class="meta-badge">
                  ${typeIcons[item.type] || 'ğŸ“¦'}
                  ${getTypeName(item.type)}
                </span>
              </div>
            </div>
            
            <div class="meta-item">
              <div class="meta-label">è´¨é‡è¯„åˆ†</div>
              <div class="meta-value" style="font-size: 24px; color: var(--primary);">
                â­ ${item.quality.toFixed(1)}/10
              </div>
            </div>
            
            <div class="meta-item">
              <div class="meta-label">ä½œè€…</div>
              <div class="meta-value">${item.author}</div>
            </div>
            
            <div class="meta-item">
              <div class="meta-label">å‘å¸ƒæ—¥æœŸ</div>
              <div class="meta-value">${item.date}</div>
            </div>
            
            <div class="meta-item">
              <div class="meta-label">æµè§ˆæ¬¡æ•°</div>
              <div class="meta-value">${item.views.toLocaleString()}</div>
            </div>
            
            <div class="meta-item">
              <div class="meta-label">æ ‡ç­¾</div>
              <div class="meta-value">
                ${item.tags.map(tag => `<span style="background: var(--bg); padding: 8px 16px; border-radius: 20px; margin-right: 8px; font-size: 13px; border: 1px solid var(--border);">${tag}</span>`).join('')}
              </div>
            </div>
          </div>
          
          <div class="action-buttons">
            <button class="action-btn" onclick="window.open('${item.url}', '_blank')">
              <span>ğŸŒ</span>
              è®¿é—®å¹³å°æŸ¥çœ‹è¯¦æƒ…
            </button>
            <button class="action-btn secondary" onclick="saveAsReference(${item.id})">
              <span>â­</span>
              ä¿å­˜ä¸ºå‚è€ƒ
            </button>
          </div>
        </div>
      `;
      
      imageModal.classList.add('active');
    }
    
    // åŠ è½½æ›´å¤š
    function loadMore() {
      currentState.currentPage++;
      updateResults();
      
      // æ»šåŠ¨åˆ°åŠ è½½çš„æ–°å†…å®¹
      const newCards = imageGrid.children;
      if (newCards.length > 0) {
        const lastCard = newCards[newCards.length - 1];
        lastCard.scrollIntoView({ behavior: 'smooth', block: 'end' });
      }
    }
    
    // å·¥å…·å‡½æ•°
    function getTypeName(type) {
      const typeNames = {
        character: 'è§’è‰²æ¨¡å‹',
        environment: 'åœºæ™¯ç¯å¢ƒ',
        vehicle: 'è½½å…·æ¨¡å‹',
        architecture: 'å»ºç­‘æ¨¡å‹',
        weapon: 'æ­¦å™¨æ¨¡å‹',
        furniture: 'å®¶å…·æ¨¡å‹',
        nature: 'è‡ªç„¶ç¯å¢ƒ'
      };
      return typeNames[type] || type;
    }
    
    // ä¿å­˜ä¸ºå‚è€ƒ
    function saveAsReference(id) {
      const item = modelResources.find(m => m.id === id);
      if (item) {
        // æ¨¡æ‹Ÿä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        const savedItems = JSON.parse(localStorage.getItem('3d_references') || '[]');
        if (!savedItems.some(saved => saved.id === id)) {
          savedItems.push(item);
          localStorage.setItem('3d_references', JSON.stringify(savedItems));
          
          // æ˜¾ç¤ºé«˜çº§æç¤º
          const notification = document.createElement('div');
          notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient-primary);
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
            z-index: 3000;
            animation: slideIn 0.3s ease;
            font-weight: 600;
          `;
          notification.innerHTML = `âœ… å·²å°† "${item.title}" ä¿å­˜ä¸ºå‚è€ƒ`;
          document.body.appendChild(notification);
          
          setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
          }, 3000);
        }
      }
    }
    
    // å¯åŠ¨åº”ç”¨
    initApp();
  </script>
</body>
</html>